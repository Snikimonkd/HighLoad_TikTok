# РПЗ к курсовой работе

Лукаш Сергей

## Тема

<B>ТикТок</B> — сервис для создания и просмотра коротких видео, принадлежащий пекинской компании «ByteDance».

## MVP

1. Регистрация/авторизация
2. Публикация видео
3. Просмотр ленты
4. Лайки/комментарии

## Целевая аудитория

По состоянию на март 2021 года **MAU** = 36,6 млн. Распределение по возрасту: 43% пользователей от 25 до 44 лет, из них 57% женщины и 43% мужчины. ([Источник](https://t.me/odigital/1329/))

## Расчет нагрузки

**DAU** можно с уверенностью считать 50%([Источник](http://appbrain.ru/osnovnyie-metriki-effektivnosti-mobilnoy-reklamyi/)) от **MAU**. Таким образом **DAU** = 36,6 * 0.5 = 18,3 млн. человек.

Среднее время пользования приложением за день(информация за 2019 год) = 38 мин. ([Источник](https://tiktok-wiki.com/statistika-tik-tok.html))

Для упрощения расчетов и с учетом устаревания статистики примем среднее время пользования приложением = 40 мин.

Для получения данных о количестве запросов, я потратил 10 минут в приложении и собрал статистику о работе приложения(.har файл).

За 10 минут было отправлено **1266** запросов(82,3 МБ): 33 за видео(67,2 МБ), 827 за статиткой(11,3 МБ), 406 за бизнес-логикой(3,8 МБ).

Таким образом среднее количество запросов в секунду равно:

```
1266 / (10 * 60) * 18 300 000 / (24 * 60 * 60) = 446 RPS
```

На одного пользователя потребляется (82,3 * 8) / (10 * 60) = **1,1** Мбит/с 

Нагрузка пользователя в секунду | Сеть 
---                             | ---
Видео                           | (67,2 * 8) / (10 * 60) = **0,9** Мбит / с 
Статика                         | (11,3 * 8) / (10 * 60) = **0,15** Мбит / с 
Бизнес-логика                   | (3,8 * 8) / (10 * 60) = **0,05** Мбит / с

Нагрузка пользователя в день    | Сеть 
---                             | ---
Видео                           | 0,9 * 40 * 60 = **2160** Мбит
Статика                         | 0,15 * 40 * 60 = **360** Мбит
Бизнес-логика                   | 0,05 * 40 * 60 = **120** Мбит

Нагрузка дневной аудитории      | Сеть 
---                             | ---
Видео                           | (2160 * 18 300 000) / (24 * 60 * 60) = **446** Гбит
Статика                         | (360 * 18 300 000) / (24 * 60 * 60) = **74** Гбит
Бизнес-логика                   | (120 * 18 300 000) / (24 * 60 * 60) = **24** Гбит